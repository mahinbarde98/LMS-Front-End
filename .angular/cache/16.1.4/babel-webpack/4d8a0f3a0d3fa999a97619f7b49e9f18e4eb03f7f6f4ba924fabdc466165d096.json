{"ast":null,"code":"import { FormControl } from '@angular/forms';\nimport { FormGroup } from '@angular/forms';\nimport { user } from './user';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/user.service\";\nimport * as i3 from \"src/app/services/login.service\";\nexport class LoginComponent {\n  constructor(router, userService, loginService) {\n    this.router = router;\n    this.userService = userService;\n    this.loginService = loginService;\n    this.loginForm = new FormGroup({\n      username: new FormControl(''),\n      password: new FormControl('')\n    });\n    this.userObj = new user();\n  }\n  login() {\n    alert(\"logged in\");\n    // this.userObj.username.setValue(this.loginForm.email.value));\n    console.log(this.loginForm.value);\n    this.loginService.login(this.loginForm.value).subscribe(result => {\n      console.log(result);\n      console.log(result);\n      console.log(\"token : \", result.jwtToken);\n      console.log(\"role : \", result.role[0]);\n      this.userService.setRoles(result.role[0]);\n      this.userService.setToken(result.jwtToken);\n      //  console.log(\"token from storage : \" , this.userService.getToken())\n      this.router.navigate(['home']);\n      //  const role = (result.role[0]);\n      //  if(role==='admin' || 'user'){\n      //    this.router.navigate(['home']);}\n    }, error => {\n      console.log(error);\n    });\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.LoginService));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 3,\n  vars: 0,\n  consts: [[1, \"bg\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"p\");\n      i0.ɵɵtext(2, \"la\");\n      i0.ɵɵelementEnd()();\n    }\n  },\n  styles: [\".bg[_ngcontent-%COMP%]{\\n    \\n \\n    background-image: url('1.jpg');\\n   \\n    width: 100%;\\n   \\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50L2xvZ2luL2xvZ2luLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxtREFBbUQ7SUFDbkQsOEJBQThDOztJQUU5QyxXQUFXOztBQUVmIiwic291cmNlc0NvbnRlbnQiOlsiLmJne1xyXG4gICAgLyogYmFja2dyb3VuZC1pbWFnZT0gVVJMKGFzc2V0cy9pbWFnZXMvYmFjay5qcGfDosKAwp0pw6LCgMKdKi8gXHJcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy4uLy4uLy4uL2Fzc2V0cy8xLmpwZycpO1xyXG4gICBcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICBcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"names":["FormControl","FormGroup","user","LoginComponent","constructor","router","userService","loginService","loginForm","username","password","userObj","login","alert","console","log","value","subscribe","result","jwtToken","role","setRoles","setToken","navigate","error","i0","ɵɵdirectiveInject","i1","Router","i2","UserService","i3","LoginService","selectors","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd"],"sources":["C:\\Users\\2101814\\OneDrive - Cognizant\\Pictures\\Loan Management Front-End\\LoanManagementApp\\src\\app\\component\\login\\login.component.ts","C:\\Users\\2101814\\OneDrive - Cognizant\\Pictures\\Loan Management Front-End\\LoanManagementApp\\src\\app\\component\\login\\login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder, FormControl, NgForm } from '@angular/forms';\nimport { FormGroup } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { LoginService } from 'src/app/services/login.service';\nimport { UserService } from 'src/app/services/user.service';\nimport { user } from './user';\n\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n\n  constructor(private router:Router, private userService : UserService,private loginService: LoginService){}\n\n\n  loginForm = new FormGroup({\n    username: new FormControl(''),\n    password: new FormControl('')\n  })\n\n  private userObj:user = new user();\n\n\n\n login(){\n  alert(\"logged in\");\n // this.userObj.username.setValue(this.loginForm.email.value));\n  console.log(this.loginForm.value);\n\n  this.loginService.login(this.loginForm.value).subscribe((result)=>{\n   \n      \n      console.log(result);\n      console.log(result)\n       console.log(\"token : \",result.jwtToken)\n       console.log(\"role : \",(result.role[0]))\n\n       this.userService.setRoles((result.role[0]));\n       this.userService.setToken(result.jwtToken);\n      //  console.log(\"token from storage : \" , this.userService.getToken())\n       this.router.navigate(['home'])\n\n      //  const role = (result.role[0]);\n      //  if(role==='admin' || 'user'){\n      //    this.router.navigate(['home']);}\n\n    \n  },(error:any)=>{\n\n      console.log(error);\n    }\n  )\n }\n\n  \n}\n\n\n\n","<div class=\"bg\">\n<p>la</p>\n</div>"],"mappings":"AACA,SAAsBA,WAAW,QAAgB,gBAAgB;AACjE,SAASC,SAAS,QAAQ,gBAAgB;AAI1C,SAASC,IAAI,QAAQ,QAAQ;;;;;AAQ7B,OAAM,MAAOC,cAAc;EAEzBC,YAAoBC,MAAa,EAAUC,WAAyB,EAASC,YAA0B;IAAnF,KAAAF,MAAM,GAANA,MAAM;IAAiB,KAAAC,WAAW,GAAXA,WAAW;IAAuB,KAAAC,YAAY,GAAZA,YAAY;IAGzF,KAAAC,SAAS,GAAG,IAAIP,SAAS,CAAC;MACxBQ,QAAQ,EAAE,IAAIT,WAAW,CAAC,EAAE,CAAC;MAC7BU,QAAQ,EAAE,IAAIV,WAAW,CAAC,EAAE;KAC7B,CAAC;IAEM,KAAAW,OAAO,GAAQ,IAAIT,IAAI,EAAE;EARwE;EAY1GU,KAAKA,CAAA;IACJC,KAAK,CAAC,WAAW,CAAC;IACnB;IACCC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACP,SAAS,CAACQ,KAAK,CAAC;IAEjC,IAAI,CAACT,YAAY,CAACK,KAAK,CAAC,IAAI,CAACJ,SAAS,CAACQ,KAAK,CAAC,CAACC,SAAS,CAAEC,MAAM,IAAG;MAG9DJ,OAAO,CAACC,GAAG,CAACG,MAAM,CAAC;MACnBJ,OAAO,CAACC,GAAG,CAACG,MAAM,CAAC;MAClBJ,OAAO,CAACC,GAAG,CAAC,UAAU,EAACG,MAAM,CAACC,QAAQ,CAAC;MACvCL,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEG,MAAM,CAACE,IAAI,CAAC,CAAC,CAAE,CAAC;MAEvC,IAAI,CAACd,WAAW,CAACe,QAAQ,CAAEH,MAAM,CAACE,IAAI,CAAC,CAAC,CAAE,CAAC;MAC3C,IAAI,CAACd,WAAW,CAACgB,QAAQ,CAACJ,MAAM,CAACC,QAAQ,CAAC;MAC3C;MACC,IAAI,CAACd,MAAM,CAACkB,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC;MAE/B;MACA;MACA;IAGJ,CAAC,EAAEC,KAAS,IAAG;MAEXV,OAAO,CAACC,GAAG,CAACS,KAAK,CAAC;IACpB,CAAC,CACF;EACF;;AA1CYrB,cAAc,C;mBAAdA,cAAc,EAAAsB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,MAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,WAAA,GAAAL,EAAA,CAAAC,iBAAA,CAAAK,EAAA,CAAAC,YAAA;AAAA;AAAd7B,cAAc,C;QAAdA,cAAc;EAAA8B,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,wBAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCd3Bd,EAAA,CAAAgB,cAAA,aAAgB;MACbhB,EAAA,CAAAiB,MAAA,SAAE;MAAAjB,EAAA,CAAAkB,YAAA,EAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}